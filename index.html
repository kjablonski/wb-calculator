<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="description" content="Weight and Balance Calculator">
<meta name="viewport" content="width=700px, initial-scale=1">
<link rel="stylesheet" href="css/style.css"/>
<link rel="manifest" href="manifest.json">
<script src="https://cdn.plot.ly/plotly-latest.min.js" charset="utf-8" defer></script>
<script src="js/aircraft.js" ></script>
<script src="core.js"></script>
<script src="js/graph.js" defer></script>
<title>
W&amp;B Calculator
</title>
</head>
<body>
<h2><select name="aircraft" id="aircraft" onchange="acChange(this.value)"><option value=""></option></select> Weight and Balance Calculator</h2>
<div class="form">
  <table>
  <tr>
    <th></th>
    <th>Weight</th>
    <th>Station (CG)</th>
  </tr><tr>
    <td> <label for="empty">Empty Weight</label></td>
    <td><input type="number" id="empty" name="empty" disabled></td>
    <td><input type="number" id="emoment" name="emoment" disabled aria-label="empty moment"></td>
  </tr>
  </tr><tr>
    <td> <label for="pilweight">Pilot</label></td>
    <td><input type="number" id="pilweight" name="pilweight" placeholder="Pilot Weight in lbs."></td>
    <td><input type="number" id="pilmoment" name="pilmoment" disabled aria-label="pilot moment"></td>
  </tr>
  </tr><tr>
    <td><label for="pasweight">Passenger</label></td>
    <td><input type="number" id="pasweight" name="pasweight" placeholder="Passenger Weight in lbs."></td>
    <td><input type="number" id="pasmoment" name="pasmoment" disabled aria-label="passenger moment"></td>
  </tr>
  </tr><tr>
    <td><label for="rpasweight">Rear Passenger</label></td>
    <td><input type="number" id="rpasweight" name="rpasweight" placeholder="Rear Passenger Weight in lbs."></td>
    <td><input type="number" id="rpasmoment" name="rpasmoment" disabled aria-label="rear passenger moment"></td>
  </tr>
  </tr><tr>
    <td><label for="bag1weight">Baggage 1</label></td>
    <td><input type="number" id="bag1weight" name="bag1weight" placeholder="Baggage 1 Weight in lbs."></td>
    <td><input type="number" id="bag1moment" name="bag1smoment" disabled aria-label="baggage1 moment"></td>
  </tr>
  </tr><tr>
    <td><label for="bag2weight">Baggage 2</label></td>
    <td><input type="number" id="bag2weight" name="bag2weight" placeholder="Baggage 2 Weight in lbs."></td>
    <td><input type="number" id="bag2moment" name="bag2moment" disabled aria-label="baggage2 moment"></td>
  </tr>
  </tr><tr>
    <td><label for="tofuelgal">Fuel (gal)</label></td>
    <td>
	  <input type="number" id="tofuelgal" name="fuelgal" onchange="calcFuelWeight(this,'to')" onkeyup="calcFuelWeight(this,'to')" placeholder="Usable Fuel on Takeoff">
	  <input type="number" id="tofuelweight" name="fuelweight" disabled aria-label="T/O Fuel Weight">
	  <br/>
	  <input type="number" id="landfuelgal" name="fuelgal" onchange="calcFuelWeight(this,'land')" onkeyup="calcFuelWeight(this,'land')" placeholder="Usable Fuel on Landing">
	  <input type="number" id="landfuelweight" name="fuelweight" disabled aria-label="landing fuel weight">
	</td>
    <td><input type="number" id="fuelmoment" name="fuelmoment" disabled aria-label="fuel moment"></td>
  </tr>
  </table> 
  <br/>
  <button id="calc" name="calc" onclick="calcwb()">Calculate W&amp;B</button>
  <br/>
  <p>Status: <span id='calcStatus'>Run W&amp;B</span></p>
  <table class="status">
    <tr>
      <th>Stage</th>
      <th>Weight</th>
      <th>CG Location</th>
      <th>Moment / 1000</th>
    </tr>
    <tr>
      <td>T/O</td>
      <td id='toWeight'></td>
	  <td id='tocg'></td>
	  <td id='toMoment'></td>
    </tr>
    <tr>
      <td>Landing</td>
      <td id='landWeight'></td>
	  <td id='landcg'></td>
	  <td id='landMoment'></td>
    </tr>
    <tr>
      <td>Zero Fuel</td>
      <td id='zfWeight'></td>
	  <td id='zfcg'></td>
	  <td id='zfMoment'></td>
    </tr>
  </table>
</div>
<div class='plot-container Rtable--2cols'>
<div id="plot" class='plot-graph'>
</div>
<div id="momentEnv" class='plot-graph'>
</div>
</div>
<div class='disclaimer'>
<p>This site is informational only and should not be considered a substitute for your aircraft.  Please consult with a CFI or your POH and FAR 91.103 for more information regarding weight and balance calculations.</p>
<p id='catDisclaim' hidden>Category envelope and station data obtained from <span id='pohLocation'>1986 Cessna 172P POH (6-8 to 6-14)</span></p>
<p id='POHDisclaim' hidden>Empty weight and cg information for <span id='aircraftID'>N-Number</span> obtained from <a id='ewLink' href="" target="_blank">Empty Weight</a></p>
<p>Source code for this site can be found on <a href="https://github.com/kjablonski/wb-calculator">github</a></p>
</div>
</body>
</html>
